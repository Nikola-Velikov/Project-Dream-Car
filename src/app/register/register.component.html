<html lang="en">
  <head>
    <!-- Do not forget to change the path to the css file -->
    <link rel="stylesheet" />
    <title>Register Page</title>
  </head>

  <body>
    <!-- In case of error, you should display div with class "error" -->
    <!-- You can choose to display the first error or all of them (error message/s in your opinion) -->

    <!-- <div class="error">
        <p>Error message - 1</p>
        <p>Error message - 2</p>
    </div> -->

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <!-- Do not forget to change the path to the images -->

        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <!-- Guest users and Logged users -->
            <li class="nav-item">
              <a class="nav-link" href="/home">Home</a>
            </li>

            <!-- Logged users -->
            <ng-container *ngIf="user">

              <li class="nav-item">
                <a class="nav-link" href="/catalog">Offers</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link" href="/create">Create Offert</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/profile/{{user}}">Profile</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/logout">Logout</a>
              </li>
            </ng-container>
            <!-- Guest users -->
            <ng-container *ngIf="!user">

            <li class="nav-item">
              <a class="nav-link" href="/login">Login</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/register">Register</a>
            </li>
            </ng-container>
          </ul>
        </div>
      </div>
    </nav>

    <main>
      <section class="py-5" id="register-page">
        <div class="container register-page">
          <h1>Register</h1>
          <div class="register">
            <form #form="ngForm" (ngSubmit)="handleSubmit(form)">
              <div class="form-group">
                <label for="email">Email address</label>
                <input
                  ngModel
                  #emailInput="ngModel"
                  type="text"
                  class="form-control"
                  id="email"
                  placeholder="Enter email"
                  name="email"
                  value=""
                  required=""
                  minlength="10"
                />
              </div>
              <ng-container *ngIf="emailInput.touched">
                <div class="error" *ngIf="emailInput.errors?.['required']">
                  <p>Email is required!</p>
                </div>
                <div class="error" *ngIf="emailInput.errors?.['minlength']">
                  <p>Email is has to be at least 10 characters long!</p>
                </div>
              </ng-container>
              <div class="form-group">
                <label for="password">Password</label>
                <input
                  ngModel
                  #passwordInput="ngModel"
                  type="password"
                  class="form-control"
                  id="password"
                  placeholder="Password"
                  name="password"
                  value=""
                  required=""
                />
              </div>
              <ng-container *ngIf="passwordInput.touched">
                <div class="error" *ngIf="passwordInput.errors?.['required']">
                  <p>Password is required!</p>
                </div>
              </ng-container>
              <div class="form-group">
                <label for="rePassword">Re-Password</label>
                <input
                  ngModel
                  #rePassInput="ngModel"
                  type="password"
                  class="form-control"
                  id="rePassword"
                  placeholder="Re-Password"
                  name="repass"
                  value=""
                  required=""
                />
              </div>
              <ng-container *ngIf="rePassInput.touched">
                <div class="error" *ngIf="rePassInput.errors?.['required']">
                  <p>Repeat Password is required!</p>
                </div>
              </ng-container>
              <ng-container *ngIf="rePassInput.touched">
                <div
                  class="error"
                  *ngIf="!rePassInput.errors?.['required']&& form.value.repass!=form.value.password"
                >
                  <p>Repeat password and password are not the same!</p>
                </div>
              </ng-container>

              <div class="form-group">
                <p>Already have account? <a href="">Login Now!</a></p>
              </div>
              <div
                *ngIf="
                  form.invalid || form.value.repass !== form.value.password
                "
              >
                <button type="submit" disabled class="btn btn-primary">
                  Submit
                </button>
              </div>
              <div
                *ngIf="form.valid && form.value.repass === form.value.password"
              >
                <button type="submit" class="btn btn-primary">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </main>

    <!--<form #form="ngForm" class="login" >
    <fieldset>
      <h2>Login Form</h2>
  
      <p class="field field-icon">
        <label for="email"><span><i class="fas fa-envelope"></i></span></label>
        <input #emailInput="ngModel" class="input-error" ngModel required type="text" name="email" id="email"
          placeholder="john.doe">
      </p>
  
      < <select ngModel="456" name="test" multiple>
        <option value="123">123</option>
        <option value="456">456</option>
      </select>
  
      {{form.value | json}} -->
    <!-- <input #files type="file" ngModel required> ->
  
      <ng-container *ngIf="emailInput.touched">
        <p class="error" *ngIf="emailInput.errors?.['required']">
          Email is required!
        </p>
        <p class="error" *ngIf="emailInput.errors?.['appEmailValidator']">
          Email is not valid!
        </p>
      </ng-container>
  
      <p class="field field-icon">
        <label for="password"><span><i class="fas fa-lock"></i></span></label>
        <input type="password" ngModel #passwordInput="ngModel" name="password" id="password" placeholder="******"
          required minlength="5">
      </p>
      <ng-container *ngIf="passwordInput.touched">
        <p class="error" *ngIf="passwordInput.errors?.['required']">
          Password is required!
        </p>
        <p class="error" *ngIf="passwordInput.errors?.['minlength']">
          Password must be at least 5 characters!
        </p>
      </ng-container>
  
      <button [disabled]="form.invalid">Login</button>
  
      <p class="text-center">
        Have an account?
        <a href="#">Register</a>
      </p>
      </fieldset>

-->
  </body>
</html>
